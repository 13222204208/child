/*! 
 Build based on gin-vue-admin 
 Time : 1679909256000 */
import{c1 as e,u as a,r as l,a as o,o as r,c as t,d as u,e as s,w as d,h as i,j as n,b as c,E as p}from"./index.61dd0a2d.js";import{E as m,a as f}from"./form-item.a3ced827.js";/* empty css               *//* empty css              */import{f as v,c as y,u as b}from"./agency.820ffca4.js";import"./date.34b11046.js";import"./dictionary.2f4c7964.js";import"./_Uint8Array.0caf8bf8.js";import"./_initCloneObject.e29c0e59.js";import"./sysDictionary.20d54a34.js";const g={class:"gva-form-box"},h={name:"Agency"},j=Object.assign(h,{setup(h){const j=e(),V=a(),_=l(""),w=l({name:"",phone:"",province:"",city:""}),U=o({name:[{required:!0,message:"",trigger:["input","blur"]}],phone:[{required:!0,message:"",trigger:["input","blur"]}]}),k=l();(async()=>{if(j.query.id){const e=await v({ID:j.query.id});0===e.code&&(w.value=e.data.reagency,_.value="update")}else _.value="create"})();const q=async()=>{var e;null==(e=k.value)||e.validate((async e=>{if(!e)return;let a;switch(_.value){case"create":default:a=await y(w.value);break;case"update":a=await b(w.value)}0===a.code&&n({type:"success",message:"创建/更改成功"})}))},x=()=>{V.go(-1)};return(e,a)=>{const l=c,o=m,n=p,v=f;return r(),t("div",null,[u("div",g,[s(v,{model:w.value,ref_key:"elFormRef",ref:k,"label-position":"right",rules:U,"label-width":"80px"},{default:d((()=>[s(o,{label:"姓名:",prop:"name"},{default:d((()=>[s(l,{modelValue:w.value.name,"onUpdate:modelValue":a[0]||(a[0]=e=>w.value.name=e),clearable:!0,placeholder:"请输入"},null,8,["modelValue"])])),_:1}),s(o,{label:"联系方式:",prop:"phone"},{default:d((()=>[s(l,{modelValue:w.value.phone,"onUpdate:modelValue":a[1]||(a[1]=e=>w.value.phone=e),clearable:!0,placeholder:"请输入"},null,8,["modelValue"])])),_:1}),s(o,{label:"省:",prop:"province"},{default:d((()=>[s(l,{modelValue:w.value.province,"onUpdate:modelValue":a[2]||(a[2]=e=>w.value.province=e),clearable:!0,placeholder:"请输入"},null,8,["modelValue"])])),_:1}),s(o,{label:"市:",prop:"city"},{default:d((()=>[s(l,{modelValue:w.value.city,"onUpdate:modelValue":a[3]||(a[3]=e=>w.value.city=e),clearable:!0,placeholder:"请输入"},null,8,["modelValue"])])),_:1}),s(o,null,{default:d((()=>[s(n,{type:"primary",onClick:q},{default:d((()=>[i("保存")])),_:1}),s(n,{type:"primary",onClick:x},{default:d((()=>[i("返回")])),_:1})])),_:1})])),_:1},8,["model","rules"])])])}}});export{j as default};
