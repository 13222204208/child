/*! 
 Build based on gin-vue-admin 
 Time : 1680141068000 */
import{r as e,a,o as l,c as t,d as i,e as o,w as r,h as d,aE as u,a3 as s,J as n,U as p,aC as c,a0 as m,bm as v,j as f,E as b,b as g}from"./index.9fcd1cf4.js";import{E as h}from"./dialog.751eac14.js";import"./overlay.a3adf688.js";import{E as y}from"./input-number.e790cd7c.js";/* empty css              */import"./tag.591c2959.js";import{E as w,a as j}from"./select.838f2837.js";import"./scrollbar.aed9ef7e.js";/* empty css               */import{E as _}from"./pagination.08bdb986.js";import{E as V,a as C}from"./table-column.1a5fcc4c.js";import"./checkbox.fecdbd3c.js";/* empty css                */import{E as k}from"./popover.80fb9c79.js";import{E as x,a as U}from"./form-item.d732c3ca.js";/* empty css               */import{E}from"./date-picker.d984416c.js";import{g as D,d as I,f as z,a as A,c as S,u as q}from"./baby.b6dda736.js";import{f as B,a as T,g as K}from"./format.9eacff27.js";import"./refs.432de9a6.js";import"./index.34201737.js";import"./index.bb4181cc.js";import"./index.7c6e002b.js";import"./strings.bddfd219.js";import"./isEqual.06eb6a45.js";import"./_Uint8Array.660aa69b.js";import"./_initCloneObject.a1ac0bc9.js";import"./dropdown.a2cc243e.js";import"./arrays.6dddb988.js";import"./date.34b11046.js";import"./dictionary.888f6128.js";import"./dictionary.3924a9ed.js";import"./sysDictionary.8f2d31b8.js";const O={class:"gva-search-box"},F={class:"gva-table-box"},J={class:"gva-btn-list"},M=i("p",null,"确定要删除吗？",-1),R={style:{"text-align":"right","margin-top":"8px"}},G={class:"gva-pagination"},H={class:"dialog-footer"},L={name:"Baby"},N=Object.assign(L,{setup(L){const N=e([]),P=e({name:"",gender:void 0,birthday:"",height:0,weight:0,appearance:"",uid:0}),Q=a({name:[{required:!0,message:"",trigger:["input","blur"]}],gender:[{required:!0,message:"",trigger:["input","blur"]}]}),W=e(),X=e(1),Y=e(0),Z=e(10),$=e([]),ee=e({}),ae=()=>{ee.value={},oe()},le=()=>{X.value=1,Z.value=10,oe()},te=e=>{Z.value=e,oe()},ie=e=>{X.value=e,oe()},oe=async()=>{const e=await D({page:X.value,pageSize:Z.value,...ee.value});0===e.code&&($.value=e.data.list,Y.value=e.data.total,X.value=e.data.page,Z.value=e.data.pageSize)};oe();(async()=>{N.value=await K("gender")})();const re=e([]),de=e=>{re.value=e},ue=e(!1),se=async()=>{const e=[];if(0===re.value.length)return void f({type:"warning",message:"请选择要删除的数据"});re.value&&re.value.map((a=>{e.push(a.ID)}));0===(await I({ids:e})).code&&(f({type:"success",message:"删除成功"}),$.value.length===e.length&&X.value>1&&X.value--,ue.value=!1,oe())},ne=e(""),pe=async e=>{0===(await A({ID:e.ID})).code&&(f({type:"success",message:"删除成功"}),1===$.value.length&&X.value>1&&X.value--,oe())},ce=e(!1),me=()=>{ne.value="create",ce.value=!0},ve=()=>{ce.value=!1,P.value={name:"",gender:void 0,birthday:"",height:0,weight:0,appearance:"",uid:0}},fe=async()=>{var e;null==(e=W.value)||e.validate((async e=>{if(!e)return;let a;switch(ne.value){case"create":default:a=await S(P.value);break;case"update":a=await q(P.value)}0===a.code&&(f({type:"success",message:"创建/更改成功"}),ve(),oe())}))};return(e,a)=>{const f=E,D=x,I=b,A=U,S=k,q=V,K=C,L=_,oe=g,be=w,ge=j,he=y,ye=h;return l(),t("div",null,[i("div",O,[o(A,{inline:!0,model:ee.value,class:"demo-form-inline",onKeyup:u(le,["enter"])},{default:r((()=>[o(D,{label:"创建时间"},{default:r((()=>[o(f,{modelValue:ee.value.startCreatedAt,"onUpdate:modelValue":a[0]||(a[0]=e=>ee.value.startCreatedAt=e),type:"datetime",placeholder:"开始时间"},null,8,["modelValue"]),d(" — "),o(f,{modelValue:ee.value.endCreatedAt,"onUpdate:modelValue":a[1]||(a[1]=e=>ee.value.endCreatedAt=e),type:"datetime",placeholder:"结束时间"},null,8,["modelValue"])])),_:1}),o(D,null,{default:r((()=>[o(I,{type:"primary",icon:"search",onClick:le},{default:r((()=>[d("查询")])),_:1}),o(I,{icon:"refresh",onClick:ae},{default:r((()=>[d("重置")])),_:1})])),_:1})])),_:1},8,["model","onKeyup"])]),i("div",F,[i("div",J,[o(I,{type:"primary",icon:"plus",onClick:me},{default:r((()=>[d("新增")])),_:1}),o(S,{visible:ue.value,"onUpdate:visible":a[4]||(a[4]=e=>ue.value=e),placement:"top",width:"160"},{reference:r((()=>[o(I,{icon:"delete",style:{"margin-left":"10px"},disabled:!re.value.length,onClick:a[3]||(a[3]=e=>ue.value=!0)},{default:r((()=>[d("删除")])),_:1},8,["disabled"])])),default:r((()=>[M,i("div",R,[o(I,{type:"primary",link:"",onClick:a[2]||(a[2]=e=>ue.value=!1)},{default:r((()=>[d("取消")])),_:1}),o(I,{type:"primary",onClick:se},{default:r((()=>[d("确定")])),_:1})])])),_:1},8,["visible"])]),o(K,{ref:"multipleTable",style:{width:"100%"},"tooltip-effect":"dark",data:$.value,"row-key":"ID",onSelectionChange:de},{default:r((()=>[o(q,{type:"selection",width:"55"}),o(q,{align:"left",label:"日期",width:"180"},{default:r((e=>[d(s(n(B)(e.row.CreatedAt)),1)])),_:1}),o(q,{align:"left",label:"姓名",prop:"name",width:"120"}),o(q,{align:"left",label:"姓别",prop:"gender",width:"120"},{default:r((e=>[d(s(n(T)(e.row.gender,N.value)),1)])),_:1}),o(q,{align:"left",label:"出生日期",prop:"birthday",width:"120"}),o(q,{align:"left",label:"身高",prop:"height",width:"120"}),o(q,{align:"left",label:"体重",prop:"weight",width:"120"}),o(q,{align:"left",label:"体貌特征",prop:"appearance",width:"120"}),o(q,{align:"left",label:"所属用户ID",prop:"uid",width:"120"}),o(q,{align:"left",label:"按钮组"},{default:r((e=>[o(I,{type:"primary",link:"",icon:"edit",class:"table-button",onClick:a=>(async e=>{const a=await z({ID:e.ID});ne.value="update",0===a.code&&(P.value=a.data.rebaby,ce.value=!0)})(e.row)},{default:r((()=>[d("变更")])),_:2},1032,["onClick"]),o(I,{type:"primary",link:"",icon:"delete",onClick:a=>{return l=e.row,void v.confirm("确定要删除吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{pe(l)}));var l}},{default:r((()=>[d("删除")])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"]),i("div",G,[o(L,{layout:"total, sizes, prev, pager, next, jumper","current-page":X.value,"page-size":Z.value,"page-sizes":[10,30,50,100],total:Y.value,onCurrentChange:ie,onSizeChange:te},null,8,["current-page","page-size","total"])])]),o(ye,{modelValue:ce.value,"onUpdate:modelValue":a[12]||(a[12]=e=>ce.value=e),"before-close":ve,title:"弹窗操作"},{footer:r((()=>[i("div",H,[o(I,{onClick:ve},{default:r((()=>[d("取 消")])),_:1}),o(I,{type:"primary",onClick:fe},{default:r((()=>[d("确 定")])),_:1})])])),default:r((()=>[o(A,{model:P.value,"label-position":"right",ref_key:"elFormRef",ref:W,rules:Q,"label-width":"80px"},{default:r((()=>[o(D,{label:"姓名:",prop:"name"},{default:r((()=>[o(oe,{modelValue:P.value.name,"onUpdate:modelValue":a[5]||(a[5]=e=>P.value.name=e),clearable:!1,placeholder:"请输入"},null,8,["modelValue"])])),_:1}),o(D,{label:"姓别:",prop:"gender"},{default:r((()=>[o(ge,{modelValue:P.value.gender,"onUpdate:modelValue":a[6]||(a[6]=e=>P.value.gender=e),placeholder:"请选择",style:{width:"100%"},clearable:!0},{default:r((()=>[(l(!0),t(p,null,c(N.value,((e,a)=>(l(),m(be,{key:a,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),o(D,{label:"出生日期:",prop:"birthday"},{default:r((()=>[o(oe,{modelValue:P.value.birthday,"onUpdate:modelValue":a[7]||(a[7]=e=>P.value.birthday=e),clearable:!1,placeholder:"请输入"},null,8,["modelValue"])])),_:1}),o(D,{label:"身高:",prop:"height"},{default:r((()=>[o(he,{modelValue:P.value.height,"onUpdate:modelValue":a[8]||(a[8]=e=>P.value.height=e),style:{width:"100%"},precision:2,clearable:!1},null,8,["modelValue"])])),_:1}),o(D,{label:"体重:",prop:"weight"},{default:r((()=>[o(he,{modelValue:P.value.weight,"onUpdate:modelValue":a[9]||(a[9]=e=>P.value.weight=e),style:{width:"100%"},precision:2,clearable:!0},null,8,["modelValue"])])),_:1}),o(D,{label:"体貌特征:",prop:"appearance"},{default:r((()=>[o(oe,{modelValue:P.value.appearance,"onUpdate:modelValue":a[10]||(a[10]=e=>P.value.appearance=e),clearable:!1,placeholder:"请输入"},null,8,["modelValue"])])),_:1}),o(D,{label:"所属用户ID:",prop:"uid"},{default:r((()=>[o(oe,{modelValue:P.value.uid,"onUpdate:modelValue":a[11]||(a[11]=e=>P.value.uid=e),modelModifiers:{number:!0},clearable:!1,placeholder:"请输入"},null,8,["modelValue"])])),_:1})])),_:1},8,["model","rules"])])),_:1},8,["modelValue"])])}}});export{N as default};
