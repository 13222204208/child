/*! 
 Build based on gin-vue-admin 
 Time : 1679909256000 */
import{c1 as e,u as a,r as t,a as l,o as s,c as r,d as o,e as i,w as u,U as c,aC as d,a0 as m,h as p,j as n,b as f,E as b}from"./index.61dd0a2d.js";import{E as g,a as j}from"./form-item.a3ced827.js";/* empty css               *//* empty css              */import"./tag.3ecd1fed.js";import{E as v,a as y}from"./select.31449efc.js";import"./scrollbar.ef9dc6d6.js";/* empty css               */import{f as _,c as w,u as h}from"./message.f4779a09.js";import{g as x}from"./format.a3be29dc.js";import"./_Uint8Array.0caf8bf8.js";import"./_initCloneObject.e29c0e59.js";import"./index.cbcb4c8f.js";import"./index.ba9b69da.js";import"./strings.ed5ba909.js";import"./isEqual.3dfeee36.js";import"./date.34b11046.js";import"./dictionary.bf1d62cf.js";import"./dictionary.2f4c7964.js";import"./sysDictionary.20d54a34.js";const V={class:"gva-form-box"},k={name:"Message"},q=Object.assign(k,{setup(k){const q=e(),C=a(),E=t(""),U=t([]),D=t({cotent:"",category:void 0}),O=l({cotent:[{required:!0,message:"",trigger:["input","blur"]}],category:[{required:!0,message:"",trigger:["input","blur"]}]}),A=t();(async()=>{if(q.query.id){const e=await _({ID:q.query.id});0===e.code&&(D.value=e.data.remessage,E.value="update")}else E.value="create";U.value=await x("messageType")})();const F=async()=>{var e;null==(e=A.value)||e.validate((async e=>{if(!e)return;let a;switch(E.value){case"create":default:a=await w(D.value);break;case"update":a=await h(D.value)}0===a.code&&n({type:"success",message:"创建/更改成功"})}))},I=()=>{C.go(-1)};return(e,a)=>{const t=f,l=g,n=v,_=y,w=b,h=j;return s(),r("div",null,[o("div",V,[i(h,{model:D.value,ref_key:"elFormRef",ref:A,"label-position":"right",rules:O,"label-width":"80px"},{default:u((()=>[i(l,{label:"信息内容:",prop:"cotent"},{default:u((()=>[i(t,{modelValue:D.value.cotent,"onUpdate:modelValue":a[0]||(a[0]=e=>D.value.cotent=e),clearable:!0,placeholder:"请输入"},null,8,["modelValue"])])),_:1}),i(l,{label:"信息所属:",prop:"category"},{default:u((()=>[i(_,{modelValue:D.value.category,"onUpdate:modelValue":a[1]||(a[1]=e=>D.value.category=e),placeholder:"请选择",clearable:!0},{default:u((()=>[(s(!0),r(c,null,d(U.value,((e,a)=>(s(),m(n,{key:a,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),i(l,null,{default:u((()=>[i(w,{type:"primary",onClick:F},{default:u((()=>[p("保存")])),_:1}),i(w,{type:"primary",onClick:I},{default:u((()=>[p("返回")])),_:1})])),_:1})])),_:1},8,["model","rules"])])])}}});export{q as default};
